<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.*?>
<?import java.util.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<ScrollPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.example.javafx_project.TrajetController"
            fitToWidth="true"
            hbarPolicy="NEVER"
            vbarPolicy="AS_NEEDED"
            stylesheets="@styles/trajet.css"
            styleClass="main-scroll">

    <content>
        <VBox alignment="TOP_CENTER" spacing="30.0" styleClass="main-container">

            <!-- En-tÃªte avec dÃ©gradÃ© -->
            <VBox styleClass="header-section" spacing="10">
                <HBox alignment="CENTER" spacing="12">
                    <Label styleClass="header-icon" text="ðŸš" />
                    <Label fx:id="headerTitle" styleClass="header-title" text="CrÃ©er un Nouveau Trajet" />
                </HBox>
                <Label styleClass="header-subtitle" text="Remplissez tous les dÃ©tails pour crÃ©er un trajet complet" />
            </VBox>

            <!-- Section DÃ©tails du Trajet -->
            <VBox styleClass="content-card" spacing="20">
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label styleClass="section-title" text="ðŸ“… DÃ©tails du Trajet" />
                </HBox>

                <GridPane hgap="25" vgap="20" styleClass="form-grid">
                    <columnConstraints>
                        <ColumnConstraints minWidth="180" prefWidth="180" />
                        <ColumnConstraints minWidth="280" prefWidth="280" hgrow="ALWAYS" />
                    </columnConstraints>

                    <!-- Date du trajet -->
                    <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="0" GridPane.columnSpan="2">
                        <Label styleClass="field-label" text="ðŸ“† Date du trajet *" />
                        <DatePicker fx:id="dateTrajetPicker" promptText="SÃ©lectionnez une date" styleClass="modern-datepicker" maxWidth="Infinity" />
                    </VBox>

                    <!-- Heure de dÃ©part -->
                    <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="1" GridPane.columnSpan="2">
                        <Label styleClass="field-label" text="â° Heure de dÃ©part *" />
                        <TextField fx:id="heureDepartField" promptText="Ex: 07:00" styleClass="modern-textfield">
                            <tooltip>
                                <Tooltip text="Format: HH:MM (ex: 07:00)" />
                            </tooltip>
                        </TextField>
                    </VBox>

                    <!-- Ville de dÃ©part -->
                    <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="2" GridPane.columnSpan="2">
                        <Label styleClass="field-label" text="ðŸ™ï¸ Ville de dÃ©part *" />
                        <TextField fx:id="villeDepartField" promptText="Ex: Agadir" styleClass="modern-textfield" />
                    </VBox>

                    <!-- Ville d'arrivÃ©e -->
                    <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="3" GridPane.columnSpan="2">
                        <Label styleClass="field-label" text="ðŸ™ï¸ Ville d'arrivÃ©e *" />
                        <TextField fx:id="villeArriveeField" promptText="Ex: Tanger" styleClass="modern-textfield" />
                    </VBox>

                    <!-- Heure d'arrivÃ©e -->
                    <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="4" GridPane.columnSpan="2">
                        <Label styleClass="field-label" text="â° Heure d'arrivÃ©e *" />
                        <TextField fx:id="heureArriveeField" promptText="Ex: 17:00" styleClass="modern-textfield">
                            <tooltip>
                                <Tooltip text="Format: HH:MM (ex: 17:00)" />
                            </tooltip>
                        </TextField>
                    </VBox>

                    <!-- VÃ©hicule -->
                    <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="5" GridPane.columnSpan="2">
                        <Label styleClass="field-label" text="ðŸš— VÃ©hicule *" />
                        <ComboBox fx:id="vehiculeComboBox" promptText="SÃ©lectionnez un vÃ©hicule" styleClass="modern-combobox" maxWidth="Infinity" />
                    </VBox>
                </GridPane>
            </VBox>

            <!-- Section ArrÃªts IntermÃ©diaires -->
            <VBox styleClass="content-card section-arrets" spacing="20">
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label styleClass="section-title" text="ðŸ›‘ ArrÃªts IntermÃ©diaires" />
                    <Region HBox.hgrow="ALWAYS" />
                    <Button fx:id="addArretBtn" onAction="#addArret" styleClass="add-button">
                        <graphic>
                            <HBox spacing="6" alignment="CENTER">
                                <Label text="âž•" style="-fx-font-size: 14px;" />
                                <Label text="Ajouter un ArrÃªt" />
                            </HBox>
                        </graphic>
                    </Button>
                </HBox>

                <VBox fx:id="arretsContainer" spacing="12" styleClass="arrets-container">
                    <Label styleClass="empty-state" text="Aucun arrÃªt ajoutÃ©. Cliquez sur 'Ajouter un ArrÃªt' pour commencer." />
                </VBox>
            </VBox>

            <!-- Section Prix -->
            <VBox styleClass="content-card section-prix" spacing="20">
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label styleClass="section-title" text="ðŸ’° Prix entre Villes" />
                    <Region HBox.hgrow="ALWAYS" />
                    <Button fx:id="generatePrixBtn" onAction="#generatePrix" styleClass="generate-button">
                        <graphic>
                            <HBox spacing="6" alignment="CENTER">
                                <Label text="ðŸ”„" style="-fx-font-size: 14px;" />
                                <Label text="GÃ©nÃ©rer les Prix" />
                            </HBox>
                        </graphic>
                    </Button>
                </HBox>

                <VBox fx:id="prixContainer" spacing="12" styleClass="prix-container">
                    <Label styleClass="empty-state" text="Cliquez sur 'GÃ©nÃ©rer les Prix' aprÃ¨s avoir ajoutÃ© les villes." />
                </VBox>
            </VBox>

            <!-- Boutons d'action -->
            <HBox spacing="20" alignment="CENTER" styleClass="action-buttons-bar">
                <Button fx:id="saveBtn" onAction="#saveTrajet" styleClass="save-button">
                    <graphic>
                        <HBox spacing="8" alignment="CENTER">
                            <Label text="ðŸ’¾" style="-fx-font-size: 18px;" />
                            <Label text="Sauvegarder Trajet" />
                        </HBox>
                    </graphic>
                </Button>

                <Button fx:id="cancelBtn" onAction="#cancel" styleClass="cancel-button">
                    <graphic>
                        <HBox spacing="8" alignment="CENTER">
                            <Label text="âŒ" style="-fx-font-size: 18px;" />
                            <Label text="Annuler" />
                        </HBox>
                    </graphic>
                </Button>
            </HBox>

            <!-- Footer -->
            <Label styleClass="footer-text" text="* Champs obligatoires" />

        </VBox>
    </content>
</ScrollPane>