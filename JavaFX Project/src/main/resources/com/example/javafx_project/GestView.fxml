<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.*?>
<?import java.util.*?>
<?import javafx.scene.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.example.javafx_project.GestController"
            prefHeight="700.0" prefWidth="1100.0"
            stylesheets="@styles/Gest.css">

    <!-- Sidebar (Left) -->
    <left>
        <VBox prefWidth="260.0" styleClass="sidebar">
            <VBox styleClass="sidebar-header">
                <Label styleClass="sidebar-title" text="Gestionnaire Panel" />
            </VBox>
            <VBox spacing="5" style="-fx-padding: 20;">
                <Button fx:id="reservationsBtn" onAction="#showReservations" styleClass="nav-button">
                    <graphic>
                        <HBox alignment="CENTER_LEFT" spacing="12">
                            <Region fx:id="indicatorReservations" prefHeight="30" prefWidth="4" styleClass="nav-indicator" />
                            <Label text="ðŸ“… Voir RÃ©servations" textFill="WHITE" />
                        </HBox>
                    </graphic>
                </Button>
            </VBox>
            <Region VBox.vgrow="ALWAYS" />
            <VBox style="-fx-padding: 20;">
                <Button fx:id="logoutBtn" onAction="#logout" styleClass="logout-button" text="ðŸšª DÃ©connexion" />
            </VBox>
        </VBox>
    </left>

    <!-- Contenu central (Center) - Dynamique avec ScrollPane -->
    <center>
        <ScrollPane styleClass="scroll-pane" fitToWidth="true">
            <VBox alignment="CENTER" spacing="25" style="-fx-padding: 30;">
                <Label fx:id="contentLabel" styleClass="page-title" text="Bienvenue dans l'interface Gestionnaire !" />

                <!-- Section Recherche Trajet -->
                <VBox styleClass="card" spacing="15">
                    <Label text="Rechercher un Trajet" styleClass="section-title" />
                    <HBox spacing="15" alignment="CENTER">
                        <TextField fx:id="villeDepartField" styleClass="input-field" promptText="Ville de DÃ©part" />
                        <TextField fx:id="villeArriveeField" styleClass="input-field" promptText="Ville d'ArrivÃ©e" />
                        <DatePicker fx:id="datePicker" styleClass="input-field" promptText="Date" />
                        <Button fx:id="searchBtn" onAction="#searchTrajets" styleClass="action-button" text="ðŸ” Rechercher" />
                    </HBox>
                </VBox>

                <!-- Liste des Trajets (TableView) -->
                <VBox styleClass="card" spacing="10">
                    <Label text="Liste des Trajets" styleClass="section-title" />
                    <TableView fx:id="trajetsTable" prefHeight="250.0" styleClass="table-view">
                        <columns>
                            <TableColumn text="ID" fx:id="trajetIdCol" styleClass="table-column" />
                            <TableColumn text="DÃ©part" fx:id="villeDepartCol" styleClass="table-column" />
                            <TableColumn text="ArrivÃ©e" fx:id="villeArriveeCol" styleClass="table-column" />
                            <TableColumn text="Date" fx:id="dateCol" styleClass="table-column" />
                            <TableColumn text="Places Restantes" fx:id="placesCol" styleClass="table-column" />
                        </columns>
                    </TableView>
                </VBox>

                <!-- Section RÃ©servation -->
                <VBox styleClass="card" spacing="15">
                    <Label text="RÃ©server un Billet" styleClass="section-title" />
                    <VBox spacing="15">
                        <HBox spacing="15" alignment="CENTER">
                            <TextField fx:id="nomField" styleClass="input-field" promptText="Nom" />
                            <TextField fx:id="prenomField" styleClass="input-field" promptText="PrÃ©nom" />
                            <TextField fx:id="cinField" styleClass="input-field" promptText="CIN" />
                            <TextField fx:id="placeField" styleClass="input-field" promptText="NumÃ©ro de Place" />
                        </HBox>
                        <ComboBox fx:id="segmentComboBox" styleClass="input-field" promptText="SÃ©lectionnez un segment" prefWidth="400.0" />
                        <Button fx:id="reserverBtn" onAction="#reserverBillet" styleClass="action-button" text="ðŸŽ« RÃ©server" />
                    </VBox>
                </VBox>
            </VBox>
        </ScrollPane>
    </center>

</BorderPane>