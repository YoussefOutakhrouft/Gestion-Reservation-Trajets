<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.*?>
<?import java.util.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.layout.*?>
<?import javafx.collections.FXCollections?>

<ScrollPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.example.javafx_project.CreateUserController"
            fitToWidth="true"
            hbarPolicy="NEVER"
            vbarPolicy="AS_NEEDED"
            stylesheets="@styles/user.css"
            styleClass="main-scroll">

    <content>
        <VBox alignment="TOP_CENTER" spacing="35.0" styleClass="main-container">

            <!-- En-tÃªte avec dÃ©gradÃ© -->
            <VBox styleClass="header-section" spacing="10">
                <HBox alignment="CENTER" spacing="12">
                    <Label styleClass="header-icon" text="ðŸ‘¥" />
                    <Label styleClass="header-title" text="Gestion des Utilisateurs" />
                </HBox>
                <Label styleClass="header-subtitle" text="GÃ©rez vos utilisateurs en toute simplicitÃ©" />
            </VBox>

            <!-- Section TableView -->
            <VBox styleClass="content-card" spacing="20">
                <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-padding: 0 0 10 0;">
                    <Label styleClass="section-title" text="ðŸ“‹ Liste des Utilisateurs" />
                    <Region HBox.hgrow="ALWAYS" />
                </HBox>

                <TableView fx:id="usersTable" styleClass="modern-table">
                    <columns>
                        <TableColumn fx:id="idColumn" prefWidth="80" styleClass="table-column-header" text="ID">
                            <cellValueFactory>
                                <PropertyValueFactory property="id" />
                            </cellValueFactory>
                        </TableColumn>
                        <TableColumn fx:id="nomColumn" prefWidth="140" styleClass="table-column-header" text="Nom">
                            <cellValueFactory>
                                <PropertyValueFactory property="nom" />
                            </cellValueFactory>
                        </TableColumn>
                        <TableColumn fx:id="prenomColumn" prefWidth="140" styleClass="table-column-header" text="PrÃ©nom">
                            <cellValueFactory>
                                <PropertyValueFactory property="prenom" />
                            </cellValueFactory>
                        </TableColumn>
                        <TableColumn fx:id="emailColumn" prefWidth="220" styleClass="table-column-header" text="Email">
                            <cellValueFactory>
                                <PropertyValueFactory property="email" />
                            </cellValueFactory>
                        </TableColumn>
                        <TableColumn fx:id="roleColumn" prefWidth="120" styleClass="table-column-header" text="RÃ´le">
                            <cellValueFactory>
                                <PropertyValueFactory property="role" />
                            </cellValueFactory>
                        </TableColumn>
                        <TableColumn fx:id="actionColumn" prefWidth="180" styleClass="table-column-header" text="Actions" />
                    </columns>
                </TableView>
            </VBox>

            <!-- Section Formulaire -->
            <VBox styleClass="content-card" spacing="25">
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label styleClass="section-title" text="âœï¸ Formulaire Utilisateur" />
                </HBox>

                <GridPane hgap="25" vgap="20" styleClass="form-grid">
                    <columnConstraints>
                        <ColumnConstraints minWidth="140" prefWidth="140" />
                        <ColumnConstraints minWidth="280" prefWidth="280" hgrow="ALWAYS" />
                    </columnConstraints>

                    <!-- Nom -->
                    <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="0" GridPane.columnSpan="2">
                        <Label styleClass="field-label" text="Nom *" />
                        <TextField fx:id="nomField" promptText="Entrez le nom de famille" styleClass="modern-textfield" />
                    </VBox>

                    <!-- PrÃ©nom -->
                    <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="1" GridPane.columnSpan="2">
                        <Label styleClass="field-label" text="PrÃ©nom *" />
                        <TextField fx:id="prenomField" promptText="Entrez le prÃ©nom" styleClass="modern-textfield" />
                    </VBox>

                    <!-- Email -->
                    <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="2" GridPane.columnSpan="2">
                        <Label styleClass="field-label" text="Email *" />
                        <TextField fx:id="emailField" promptText="exemple@domaine.com" styleClass="modern-textfield" />
                    </VBox>

                    <!-- Mot de passe -->
                    <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="3" GridPane.columnSpan="2">
                        <Label styleClass="field-label" text="Mot de Passe" />
                        <PasswordField fx:id="passwordField" promptText="Laisser vide pour conserver l'actuel" styleClass="modern-textfield" />
                    </VBox>

                    <!-- RÃ´le -->
                    <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="4" GridPane.columnSpan="2">
                        <Label styleClass="field-label" text="RÃ´le *" />
                        <ComboBox fx:id="roleComboBox" maxWidth="Infinity" styleClass="modern-combobox">
                            <items>
                                <FXCollections fx:factory="observableArrayList">
                                    <String fx:value="ADMIN" />
                                    <String fx:value="GEST" />
                                </FXCollections>
                            </items>
                        </ComboBox>
                    </VBox>
                </GridPane>

                <!-- Message et Bouton -->
                <VBox spacing="15" alignment="CENTER">
                    <Label fx:id="messageLabel" styleClass="message-label" text="" wrapText="true" />

                    <HBox spacing="15" alignment="CENTER">
                        <Button fx:id="createUserBtn" onAction="#createUser" styleClass="primary-button" text="âœ… CrÃ©er Utilisateur" />
                        <Button onAction="#clearForm" styleClass="secondary-button" text="ðŸ”„ RÃ©initialiser" />
                    </HBox>
                </VBox>
            </VBox>

            <!-- Footer -->
            <Label styleClass="footer-text" text="DÃ©veloppÃ© avec â¤ï¸ pour une meilleure gestion" />

        </VBox>
    </content>
</ScrollPane>